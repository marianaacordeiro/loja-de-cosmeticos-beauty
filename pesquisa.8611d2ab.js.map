{"mappings":"AAAA,IAAI;AAEJ,eAAe,iBAAiB,aAAa,EAAE;IAC7C,IAAI,CAAC,YAAY,QAAQ,8CAA8C;IAEvE,MAAM,MAAM,CAAC,4EAA4E,EAAE,WAAW,yDAAyD,CAAC;IAEhK,MAAM,UAAU;QACd,QAAQ;QACR,SAAS;YACP,kBAAkB;YAClB,mBAAmB;QACrB;IACF;IAEA,IAAI;QACF,MAAM,WAAW,MAAM,MAAM,KAAK;QAClC,IAAI,CAAC,SAAS,EAAE,EACd,MAAM,IAAI,MAAM,CAAC,0BAAoB,EAAE,SAAS,MAAM,EAAE;QAG1D,MAAM,OAAO,MAAM,SAAS,IAAI;QAChC,QAAQ,GAAG,CAAC,0CAAgC;QAE5C,IAAI,WAAW,EAAE;QAEjB,IAAI,KAAK,MAAM,IAAI,KAAK,MAAM,CAAC,QAAQ,EACrC,WAAW,KAAK,MAAM,CAAC,QAAQ;aAC1B,IAAI,KAAK,IAAI,IAAI,KAAK,IAAI,CAAC,QAAQ,EACxC,WAAW,KAAK,IAAI,CAAC,QAAQ;aAE7B,QAAQ,IAAI,CACV;QAIJ,QAAQ,GAAG,CAAC,sCAA4B;QAExC,kBAAkB;IACpB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,4CAAkC;IAClD;AACF;AAEA,SAAS,kBAAkB,QAAQ;IACjC,MAAM,cAAc,SAAS,cAAc,CAAC;IAE5C,IAAI,CAAC,aAAa;QAChB,QAAQ,KAAK,CAAC;QACd;IACF;IAEA,YAAY,SAAS,GAAG;IAExB,IAAI,SAAS,MAAM,KAAK,GAAG;QACzB,YAAY,SAAS,GACnB;QACF;IACF;IAEA,SAAS,OAAO,CAAC,CAAC;QAChB,MAAM,QAAQ,QAAQ,aAAa,IAAI;QACvC,MAAM,QAAQ,QAAQ,cAAc,IAAI;QACxC,MAAM,WAAW,QAAQ,sBAAsB,IAAI;QACnD,MAAM,aAAa,QAAQ,kBAAkB,IAAI;QAEjD,MAAM,KAAK,SAAS,aAAa,CAAC;QAClC,GAAG,SAAS,CAAC,GAAG,CAAC,mBAAmB;QAEpC,GAAG,SAAS,GAAG,CAAC;gBACJ,EAAE,SAAS,OAAO,EAAE,MAAM;0BAChB,EAAE,MAAM;AAAQ,oCACT,EAAE,MAAM;eAC1B,EAAE,WAAW;;;IAGxB,CAAC;QAED,YAAY,WAAW,CAAC;IAC1B;AACF;AAEA,0FAA0F;AAC1F,SAAS,cAAc,CAAC,eAAe,gBAAgB,CAAC,SAAS,CAAC;IAChE,MAAM,aAAa,MAAM,MAAM,CAAC,KAAK,CAAC,IAAI;IAE1C,qCAAqC;IACrC,aAAa;IACb,kBAAkB,WAAW;QAC3B,iBAAiB;IACnB,GAAG,OAAO,4CAA4C;AACxD;AAEA,wDAAwD;AACxD,SAAS,cAAc,CAAC,gBAAgB,gBAAgB,CAAC,SAAS;IAChE,MAAM,aAAa,SAAS,cAAc,CAAC,eAAe,KAAK,CAAC,IAAI;IACpE,iBAAiB;AACnB;AAEA,2CAA2C;AAC3C,SAAS,gBAAgB,CAAC,oBAAoB,IAAM","sources":["prod/assets/libraries/resources/scripts/pesquisa.js"],"sourcesContent":["let debounceTimeout;\r\n\r\nasync function fetchProductData(searchTerm = \"\") {\r\n  if (!searchTerm) return; // N칚o faz requisi칞칚o se o campo estiver vazio\r\n\r\n  const url = `https://ali-express1.p.rapidapi.com/productsByCategoryV2/660103?search_term=${searchTerm}&sort_type=default&page=1&page_size=20&sort_order=default`;\r\n\r\n  const options = {\r\n    method: \"GET\",\r\n    headers: {\r\n      \"x-rapidapi-key\": \"8092aa3c20msha0c6dd2b3ef663cp129613jsn0a4d9c464325\",\r\n      \"x-rapidapi-host\": \"ali-express1.p.rapidapi.com\",\r\n    },\r\n  };\r\n\r\n  try {\r\n    const response = await fetch(url, options);\r\n    if (!response.ok) {\r\n      throw new Error(`Erro na requisi칞칚o: ${response.status}`);\r\n    }\r\n\r\n    const data = await response.json();\r\n    console.log(\"游릭 Resposta completa da API:\", data);\r\n\r\n    let products = [];\r\n\r\n    if (data.result && data.result.products) {\r\n      products = data.result.products;\r\n    } else if (data.data && data.data.products) {\r\n      products = data.data.products;\r\n    } else {\r\n      console.warn(\r\n        \"丘멆잺 Estrutura da API pode ter mudado. Nenhum produto encontrado.\"\r\n      );\r\n    }\r\n\r\n    console.log(\"游늷 Produtos encontrados:\", products);\r\n\r\n    updateProductList(products);\r\n  } catch (error) {\r\n    console.error(\"游댮 Erro ao buscar os produtos:\", error);\r\n  }\r\n}\r\n\r\nfunction updateProductList(products) {\r\n  const productList = document.getElementById(\"productCollection\");\r\n\r\n  if (!productList) {\r\n    console.error(\"Elemento 'productCollection' n칚o encontrado no HTML!\");\r\n    return;\r\n  }\r\n\r\n  productList.innerHTML = \"\";\r\n\r\n  if (products.length === 0) {\r\n    productList.innerHTML =\r\n      '<li class=\"collection-item\">Nenhum produto encontrado.</li>';\r\n    return;\r\n  }\r\n\r\n  products.forEach((product) => {\r\n    const title = product.product_title || \"Sem t칤tulo\";\r\n    const price = product.app_sale_price || \"Pre칞o n칚o informado\";\r\n    const imageUrl = product.product_main_image_url || \"images/default.jpg\";\r\n    const productUrl = product.product_detail_url || \"#\";\r\n\r\n    const li = document.createElement(\"li\");\r\n    li.classList.add(\"collection-item\", \"avatar\");\r\n\r\n    li.innerHTML = `\r\n      <img src=\"${imageUrl}\" alt=\"${title}\" class=\"circle\" />\r\n      <span class=\"title\">${title}</span>\r\n      <p><strong>Pre칞o:</strong> ${price}</p>\r\n      <a href=\"${productUrl}\" target=\"_blank\" class=\"secondary-content\">\r\n        <i class=\"material-icons\">shopping_cart</i>\r\n      </a>\r\n    `;\r\n\r\n    productList.appendChild(li);\r\n  });\r\n}\r\n\r\n// Debounce - aguarda o usu치rio parar de digitar por 1 segundo antes de fazer a requisi칞칚o\r\ndocument.getElementById(\"searchInput\").addEventListener(\"input\", (event) => {\r\n  const searchTerm = event.target.value.trim();\r\n\r\n  // Limita as requisi칞칫es com debounce\r\n  clearTimeout(debounceTimeout);\r\n  debounceTimeout = setTimeout(() => {\r\n    fetchProductData(searchTerm);\r\n  }, 1000); // 1 segundo ap칩s o usu치rio parar de digitar\r\n});\r\n\r\n// Adiciona o ouvinte de evento para o bot칚o de pesquisa\r\ndocument.getElementById(\"searchButton\").addEventListener(\"click\", () => {\r\n  const searchTerm = document.getElementById(\"searchInput\").value.trim();\r\n  fetchProductData(searchTerm);\r\n});\r\n\r\n// Carrega os produtos ao carregar a p치gina\r\ndocument.addEventListener(\"DOMContentLoaded\", () => fetchProductData());\r\n"],"names":[],"version":3,"file":"pesquisa.8611d2ab.js.map","sourceRoot":"/__parcel_source_root/"}